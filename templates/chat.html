<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/bootstrap-5.1.3-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/chat.css">
    <title>Offline</title>
</head>

<body>
    <div id="myModal" class="modal">
        <span class="close">&times;</span>
        <img class="modal-content" id="img01">
        <div id="caption"></div>
    </div>
    <nav class="navbar mb-3">
        <div class="container-fluid">
            <span class="logo navbar-brand"><b id="flicker"> <span>Laxmi </span>Chat<span>Room</span> </b></span>
            <a href="/" type="button" class="btn btn-outline-light bg-gradient px-2" id="homepageButton">Go back to
                Homepage</a>
        </div>
    </nav>
    <div class="chatRoom  text-center" id="name">
        <div class="mb-3 mt-3 w-50 h-100 inputName text-center">
            <label for="formGroupExampleInput" class="form-label h3">Enter the Name for your Chatroom</label>
            <input type="text" class="form-control " id="namefield">
            <div class="invalid-feedback my-2" id="error" style="color: red; display: none;">
               Username already exist!!
              </div>
            <a type="button" class="btn btn-outline-light bg-gradient btn-lg mt-2 py-2 px-4" id="chatButton">Start
                Chat</a>
        </div>
    </div>
    <div class="cont " id="chat" style="display: none;">
        <nav class="navbar border-bottom">
            <div class="container-fluid">
                <span class="navbar-brand mb-0 h1 " id="onlineUser"></span>
                <a type="button" class="btn btn-outline-light bg-gradient px-2" id="leaveButton">Leave</a>
            </div>
        </nav>
        <!-- chat section -->
        <div class="messages" id="messages">
        </div>
        <!-- textarea -->
        <div class="input-group mb-1 border-top bg-dark " id="messageSender">
            <select id="inputState" class="form-select bg-dark text-light border-0 border-end">
                <option selected value="text">Plain Text</option>
                <option value="markdown">Markdown</option>
            </select>
            <textarea maxlength="3000" minlength="1" type="text" id="sendMessage"
                class="form-control bg-dark bg-gradient text-light border-0 border-end py-3"
                placeholder="Type your message..."></textarea>
            <label class=" fileUpload px-2 btn-default bg-dark border-0 border-end ">
                <img class="mt-2"
                    src="static/images/file.png"
                    id="imgTextarea" alt=""> <input type="file" id="file" class="mt-2" hidden=""
                    style="cursor: pointer;" accept=".png, .jpg">
            </label>
            <button type="button" class="bg-dark mx-2  border-0 px-2" id="sendButton"><img width="30" height="25"
                    src="static/images/send.png" alt="Send" /></button>
        </div>
    </div>

</body>

<script src="static/js/markdown.js"></script>
<script src="static/bootstrap-5.1.3-dist/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">

    let textarea = document.querySelector('textarea');
    textarea.addEventListener('keydown', autosize);
    function autosize() {
        var el = this;
        setTimeout(function () {
            el.style.cssText = 'height:auto; padding:0';
            el.style.cssText = 'height:' + el.scrollHeight + 'px';
        }, 0);
    }
    window.onload = () => {
        let flicker = document.getElementById('flicker')
        flicker.classList.add('active')
        setTimeout(function () {
            flicker.classList.remove('active')
        }, 5000);
    }
    setTimeout(function () {
        let flicker = document.getElementById('flicker')
        flicker.classList.add('active')
        setTimeout(function () {
            flicker.classList.remove('active')
        }, 5000);
    }, 1800000);
</script>
<script src="static/js/chat.js"></script>
<script src="static/js/imgModal.js"></script>

</html>
